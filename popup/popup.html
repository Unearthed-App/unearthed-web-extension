<!-- Copyright (C) 2024 Unearthed App

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>. -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unearthed Extension</title>
    <link href="popup.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Crimson+Pro:wght@400;600;800&display=swap" rel="stylesheet" />    <style>
      body {
        font-family: 'Poppins', sans-serif;
      }
      h2 {
        font-family: 'Crimson Pro', serif;
      }
    </style>
  </head>
  <body class="p-2 bg-[hsl(10,100%,93%)] w-[450px]">
    <div class="container bg-[hsl(10,100%,93%)]">
      
      <h3 class="text-center" id="loadingDailyReflection">Loading...</h3>
      <div
        id="dailyReflectionDiv"
        class="border-2 border-black rounded-lg bg-black"
        style="display: none"
      >
      <div class="">
        <div class="rounded-t-lg bg-black text-white p-4 text-center">
            <h2 id="dailyBookTitle" class="font-extrabold text-4xl text-center"></h2>
            <span id="dailyBookAuthor" class="text-xs text-center"></span>
          </div>
        </div>
        <div class="bg-[hsl(337,68%,97%)] p-4 rounded-lg">
          <div class="flex flex-col justify-between">
            <div>
              <div
                id="dailyQuoteOuterContainer"
                class="shadow-xl border-2 h-full p-4 flex bg-opacity-10 rounded-lg"
              >
                <div
                  id="dailyQuoteInnerContainer"
                  class="border-l-4 pl-4 h-full"
                >
                  <p
                    id="dailyQuoteContent"
                    class="text-sm md:text-base"
                  ></p>
                </div>
              </div>
              <div class="relative -top-6 right-4 flex justify-end py-2">
                <div
                  id="dailyQuoteLocation"
                  class="inline-flex items-center text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 h-8 border-2 p-2.5 rounded-md transition-shadow duration-200 bg-black border-white text-white z-0"
                ></div>
              </div>
              <div id="dailyBookNotesDiv" class="-mt-10 my-2 px-8">
                <p class="ml-2 text-sm text-muted-foreground pt-2">
                  <span class="text-base font-bold text-[hsl(175,60%,20%)]">
                    Notes:
                  </span>
                  <span id="dailyBookNotes"></span>
                </p>
              </div>
            </div>
            <div id="dailyBookImgDiv" class="flex md:hidden w-full justify-center mt-2">
              <img
                id="dailyBookImg"
                alt="Picture of the book"
                loading="lazy"
                width="100"
                height="100"
                class="rounded-lg border-2 border-black shadow"
                src=""
              />
            </div>
            <div class="flex md:hidden justify-center mt-2"></div>
              <button id="getNewQuoteButton" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 mt-4 w-full" type="button">Get a new Daily Reflection</button>
            </div>
          </div>
        </div>


        <div id="getBooksDiv" class="mt-2 text-center" style="display:none">
          <div class="p-4 border-2 border-black rounded-lg bg-[hsl(337,68%,97%)]">
            <p class="text-xs text-neutral-600 mb-2">
              Kindle Books will be synced daily automatically, if you are logged in to read.amazon.com/notebook
                <br />
              You can also force a sync by pressing this button

            </p>
            <button id="getBooksButton" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" type="button">Get Kindle Books</button>
          </div>
        </div>

        <div id="getBooksInformationDiv" class="mt-2 text-center" style="display: none">
          <div class="p-4 border-2 border-black rounded-lg bg-[hsl(337,68%,97%)]">
            <div class="flex justify-between mb-2">
              <div class="w-full">
                <button id="deselectAll" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" id="deselectAllButton" type="button">Deselect All</button>
              </div>
              <div class="w-full ml-2">
                <button id="selectAll" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" id="selectAllButton" type="button">Select All</button>
              </div>
            </div>
            <p id="getBooksInformation" class="text-xs text-neutral-600 mb-2">
            </p>
            <button id="continueGetBooks" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" type="button">Continue</button>
            <a style="display:none;" id="goToUnearthed" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" href="https://unearthed.app" target="_blank">View on Unearthed</a>
            <button style="display:none;" id="downloadCsv" class="mt-2 bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" type="button">Download CSV</button>
          </div>
        </div>

        <div id="loginToKindleDiv" style="display: none" class="mt-2 text-center">
          <div class="p-4 border-2 border-black rounded-lg bg-[hsl(337,68%,97%)]">
            <p class="text-xs text-red-600 mb-2 font-bold">
              Your Kindle books are not automatically syncing right now.
              <br />
              Please login in to read.amazon.com/notebook by clicking the button below.
              <br />
              After you login, open the extension and try the 'Get Kindle Books' button again.
            </p>
            <button id="loginToKindleButton" class="bg-red-400 inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)]  h-10 px-4 py-2 w-full" type="button">Login to read.amazon.com</button>
          </div>
        </div>

        <div id="settingsScreen" class="settings-screen" style="display: none;">
          <div class="p-4 border-2 border-black rounded-lg bg-[hsl(337,68%,97%)] mt-2">
            <label for="apiKeyInput" class="block text-sm font-medium text-gray-700">API Key</label>
            <input type="text" id="apiKeyInput" class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2" placeholder="Enter your API Key" />
          </div>
          <div class="p-4 border-2 border-black rounded-lg bg-[hsl(337,68%,97%)] mt-2">
            <label for="autoSyncCheckbox" class="block text-sm font-medium text-gray-700">Auto Sync Once Per Day</label>
            <label for="autoSyncCheckbox" class="block text-xs font-light text-gray-700">Enable this if you want the extension to get books even if you do not open it. This could slow down your browser if you have a lot of books.
            </label>
            <input type="checkbox" id="autoSyncCheckbox" class="mt-1 block shadow-sm sm:text-sm border-gray-300 rounded-md p-2" />
          </div>
        </div>
        <div class="settings-button-container text-center mt-2">
          <button id="settingsButton" class="bg-white inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent border-2 p-2.5 rounded-md transition-shadow duration-200 bg-card border-black shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_rgba(0,0,0,1)] active:shadow-[1px_1px_0px_rgba(0,0,0,1)] h-10 px-4 py-2 w-full" type="button">Settings</button>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
